<!doctype html>
<html lang="en" class="h-100">

<head>
  <title>FizzBuzz: A Coding Project By Joy Dutta</title>
  <!-- Required meta tags -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

  <!-- Bootstrap CSS -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-F3w7mX95PdgyTmZZMECAngseQB83DfGTowi0iMjiWaeVhAn4FJkqJByhZMI3AhiU" crossorigin="anonymous">

  <!-- Google Font -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Black+Ops+One&display=swap" rel="stylesheet">

  <!-- Font Awesome -->
  <script src="https://kit.fontawesome.com/5db21ba9c6.js" crossorigin="anonymous"></script>

  <!-- Favicon  -->
  <link rel="icon" href="/img/favicon-32x32.png" type="image/png">
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/site.css">
  <link rel="stylesheet" href="./css/prism.css">
</head>

<body class="d-flex flex-column h-100">

  <!-- ==== Nav Section ==== -->
  <nav class="navbar navbar-expand-md navbar-dark fixed-top">
    <div class="container-fluid">
      <a class="navbar-brand logoFont" href="#"><img src="./img/White logo - no background.svg" alt="Brand logo color background"
          width="30" height="24" class="d-inline-block align-text-top mx-3">FizzBuzz</img></a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse"
        aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarCollapse">
        <ul class="navbar-nav me-auto mb-2 mb-md-0">
          <li class="nav-item">
            <a class="nav-link" href="./index.html">Home</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="./app.html">The App</a>
          </li>
          <li class="nav-item">
            <a class="nav-link active" aria-current="page" href="./code.html">The Code</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" target="_blank">About</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="#" target="_blank">Git Repo</a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- ==== Main Section ==== -->
  <main class="flex-shrink-0">
    <div class="container py-5 px-5 mt-5">
      <h2 class="border-1 border-bottom border-dark">The Code for FizzBuzz.</h2>
      <div class="row row-cols-1 row-cols-md-2">
        <div class="col-lg-8">
          <pre class="line-number">
            <code class="language-javascript">
              
function getValues() {
  // get values from the page
  let fizzValue = document.getElementById("fizzValue").value;
  let buzzValue = document.getElementById("buzzValue").value;


  fizzValue = parseInt(fizzValue);
  buzzValue = parseInt(buzzValue);

  if (Number.isInteger(fizzValue) && Number.isInteger(buzzValue)) {

    // We call fizzBuzz
    //let fizzBuzzCollection = fizzBuzz(fizzValue, buzzValue);
      let fizzBuzzCollection = fizzBuzzC(fizzValue, buzzValue);

    // We call displayNumbers
    displayData(fizzBuzzCollection);
    
  } else {
    alert("You must enter integer/whole number");
  }
}

let fizzBuzzArray = [];

// do fizzBuzz
function fizzBuzz(fizzVal, buzzVal) {
  
  for (let index = 1; index <= 100; index++) {
    if(index % fizzVal == 0 && index % buzzVal == 0) {
      fizzBuzzArray.push("FizzBuzz");
    } else if(index % fizzVal == 0) {
      fizzBuzzArray.push("Fizz");
    } else if(index % buzzVal == 0) {
      fizzBuzzArray.push("Buzz");
    } else {
      fizzBuzzArray.push(index);
    } 
    
  }
  return fizzBuzzArray;
}

function fizzBuzzB(fizzValue, buzzValue) {
  
  let Fizz = false;
  let Buzz = false;

  for (let index = 1; index <= 100; index++) {
    
    Fizz = (index % fizzValue) == 0;
    Buzz = (index % buzzValue) == 0;
    
    switch (true) {
      case Fizz && Buzz: 
      {
        fizzBuzzArray.push("FizzBuzz");
        break;
      }
      case Fizz: 
      {
        fizzBuzzArray.push("Fizz");
        break;
      }
      case Buzz: {
        fizzBuzzArray.push("Buzz");
        break;
      }
      default: {
        fizzBuzzArray.push(index);
        break;
      }
    }
  }

  return fizzBuzzArray;
}

function fizzBuzzC(fizzValue, buzzValue) {
  for(let index = 1; index <= 100; index++){
    let value = ((index % fizzValue == 0 ? 'Fizz' : '') + (index % buzzValue == 0 ? 'Buzz' : '') || index)
    fizzBuzzArray.push(value)
  }
  return fizzBuzzArray
}


// loop over the array and create a tablerow for each item.
function displayData(array) 
{

  // Get the table body 
  let tableBody = document.getElementById("results")

  //get the templateRows
  let templateRow = document.getElementById("fbTemplate");

  // clear the table
  tableBody.innerHTML = "";

  for (let index = 0; index < fizzBuzzArray.length; index += 5) {
    
    
    let tableRow = document.importNode(templateRow.content, true);

    // grab just the tds and put them into an array
    let rowCols = tableRow.querySelectorAll("td");

    rowCols[0].textContent = fizzBuzzArray[index];
    rowCols[0].classList.add(fizzBuzzArray[0]);

    rowCols[1].textContent = fizzBuzzArray[index + 1];
    rowCols[1].classList.add(fizzBuzzArray[index + 1]);

    rowCols[2].textContent = fizzBuzzArray[index + 2];
    rowCols[2].classList.add(fizzBuzzArray[index + 2]);

    rowCols[3].textContent = fizzBuzzArray[index + 3];
    rowCols[3].classList.add(fizzBuzzArray[index + 3]);

    rowCols[4].textContent = fizzBuzzArray[index + 4];
    rowCols[4].classList.add(fizzBuzzArray[index + 4]);

    tableBody.appendChild(tableRow);
  }
    
}


CSS Code:
.Fizz {
  color: darkgreen;
  font-weight: 600;
}

.Buzz {
  color: darkblue;
  font-weight: 600;
}

.FizzBuzz {
  color: red;
  font-weight: 900;
}
            </code>
          </pre>
        </div>
        <div class="col-lg-4">
          <p><span class="text-info fw-bolder">getValues( ) function:</span></p>
          <p>This function gathers the inputs from the DOM and parses them as int using the inbuilt parseInt function. We then check if they are of type integer. If they are, then we go on to creating the fizzbuzzArray with the help of <strong>fizzBuzz( ) function</strong></p>
          <p>There are 3 versions of this function</p>
          <p><em>Version 1:</em> It simply loops through 1 to 100 and check if the number is divisible by both fizzValue and buzzValue, which we collected earlier on. If they are then we push "FizzBuzz" into the empty array. If the number is divisible by only fizzValue, we push "Fizz"; in case, it is divisible by the BuzzValue, we push "Buzz". If the number is divisible neither by the fizzValue nor the buzzValue, we just push the number as String type into the array</p>
          <p><em>Version 2:</em> It is the same as above but uses <em>switch</em> statement</p>

          <p><em>Version 3:</em> The 3<sup>rd</sup> version is a 1 liner</p>
          <p>It checks if the number is divisible by the fizzValue then it assigns the number into the value variable; otherwise it assigns an empty string. If it is not divisible by the fizzValue, then it checks for the buzzValue. If the number is not divisible by any of them, it just pushes the number itself to the empty array</p>
          <p class="text-info">displayData( ) function</p>
          <p>This function first creates a clone of the template, which includes the tr and the 5 tds. Using querySelectorAll it creates the an array of 5 td elements, as in the template created. Then it adds the numbers and the classes to style the numbers in the table</p>.
          <p><em>Explanaton for the CSS code within the JS</em></p>
          <p>We have defined 3 classes for the text. If the text is "Fizz" we have a Fizz class, for the "Buzz class we have the styling for the "Buzz" class. Also for the "FizzBuzz" class we have "FizzBuzz" class to display the numbers in various font-size and colours</p>
          <p><em>Note: The loop is incremented by 5 to avoid any repitition, as it creates a new table row after displaying 5 columns of <strong>tds</strong></em></p>
        </div>
      </div>
    </div>
  </main>

  <!-- ==== Footer Section ==== -->
  <footer class="footer mt-auto py-3 bg-dark">
    <div class="container-fluid">
      <div class="row row-cols-1 row-cols-lg-3 gy-2">
        <div class="col text-light order-last order-lg-first">
          <div>
            <span class="text-muted">&copy;2023</span>&nbsp;Joy Dutta | dutta_joy@hotmail.com
          </div>
        </div>
        <div class="col d-flex justify-content-start justify-content-lg-center">
          <img src="./img/White logo - no background.svg" alt="" height="35">
        </div>
        <div class="col d-flex justify-content-start justify-content-lg-end algin-items-center">
          <div class="row">
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-linkedin fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-github fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-twitter fa-2x"></i></a>
            </div>
            <div class="col social">
              <a href="#" target="_blank"><i class="fab fa-youtube fa-2x"></i></a>
            </div>
          </div>
        </div>
      </div>
    </div>
  </footer>

  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ" crossorigin="anonymous">
  </script>

  <script src="./js/prism.js"></script>
  <script>
    Prism.plugins.NormalizeWhitespace.setDefaults({
      'remove-trailing': true,
      'remove-indent': true,
      'left-trim': true,
      'right-trim': true
    })
  </script>
</body>

</html>